(this["webpackJsonpmhp-app-typescript"]=this["webpackJsonpmhp-app-typescript"]||[]).push([[0],{42:function(e,t,a){},61:function(e,t,a){e.exports=a(91)},66:function(e,t,a){},84:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),s=a.n(o),i=(a(66),a(42),a(21)),c=a(22),l=a(27),u=a(26),h=a(19),m=a(6),p=a(32),d=a.n(p),f=a(105),g=a(115),v=a(106),k=a(107),E=a(108),b=a(109),y=a(110),C=(a(84),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=void 0,n.state={},n}return Object(c.a)(a,[{key:"fetchContent",value:function(){var e=this;d.a.get("https://anapioficeandfire.com/api/houses/"+this.props.match.params.houseId).then((function(t){e.setState({data:t.data,houseId:parseInt(e.props.match.params.houseId)})}))}},{key:"componentDidUpdate",value:function(){parseInt(this.props.match.params.houseId)!==this.state.houseId&&void 0!==this.state.data&&(this.setState({data:void 0}),this.fetchContent())}},{key:"componentDidMount",value:function(){this.fetchContent()}},{key:"getRepresentation",value:function(e,t){var a=this,n=typeof e;if(null==e)return r.a.createElement(f.a,null);if("string"===n){if(e.match("anapioficeandfire.com/api/houses/")){var o=e.match("houses/(\\d+)");if(null!=o){var s="/houseDetails/"+o[1]+"/"+this.props.match.params.backgroundColor;return r.a.createElement(h.b,{key:t,to:s},"House ",o[1])}return r.a.createElement(f.a,{key:t},e)}return e.startsWith("https://")?r.a.createElement("div",{key:t},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e},e)):r.a.createElement(f.a,{key:"data_"+t},e)}return"object"===n&&Array.isArray(e)?e.map((function(e,n){return a.getRepresentation(e,t+100*n)})):r.a.createElement(f.a,null,e)}},{key:"render",value:function(){var e=this,t=this.state.data;return t?r.a.createElement(g.a,{className:"house_detail centered",style:{backgroundColor:"#"+this.props.match.params.backgroundColor}},r.a.createElement("div",{className:"centered"},r.a.createElement("div",{className:"left"},r.a.createElement(h.b,{className:"link_button",to:"/"},"< Back to Overview")),r.a.createElement(f.a,{variant:"h3",className:"big_header text_shadow"},t.name),r.a.createElement(k.a,{className:"details_table"},r.a.createElement(E.a,null,Object.keys(t).map((function(a,n){return r.a.createElement(b.a,{hover:!0,key:"row_"+n},r.a.createElement(y.a,{key:n+"_1",align:"right",size:"medium",className:"name_cell"},a.toUpperCase()),r.a.createElement(y.a,{key:n+"_2",align:"left",className:"content_cell"},e.getRepresentation(t[a],n)))})))))):r.a.createElement(g.a,{className:"house_detail centered",style:{backgroundColor:"#"+this.props.match.params.backgroundColor}},r.a.createElement("div",{className:"centered"},r.a.createElement(v.a,null)))}}]),a}(r.a.Component)),_=Object(m.f)(C),N=(a(90),a(111)),w=["265077","04407c","494B68","1E4258","2D5F5D"],j=["short","medium","long"],O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).backgroundColor=void 0,n.countNumber=n.props.id,n.backgroundColor=w[n.countNumber%w.length],n.state={firstTimeShown:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({firstTimeShown:!0})}),1e3)}},{key:"handleClick",value:function(e){this.props.history.push("/houseDetails/"+this.props.id+"/"+this.backgroundColor)}},{key:"render",value:function(){var e="";if(this.state.firstTimeShown)e="hover_effect";else{var t=Math.round(3*Math.random())%3;e="animate__fadeInUp animate__animated animate_delay_"+j[t]}return r.a.createElement(g.a,{className:"houseCard "+e,onClick:this.handleClick.bind(this),style:{backgroundColor:"#"+this.backgroundColor}},r.a.createElement(N.a,null,r.a.createElement(f.a,{variant:"h3",align:"center",color:"textSecondary",className:"text_shadow"},this.props.id),r.a.createElement(f.a,{variant:"h5",align:"center",color:"textPrimary",className:"text_shadow"},this.props.name),r.a.createElement(f.a,{align:"center",className:"click_info"},"Click for more details")))}}]),a}(n.Component),S=Object(m.f)(O),I=a(114),D=a(113),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={entries:[],page:1,currentPage:1,pageCount:1,loading:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){this.state.currentPage!==this.state.page&&(this.setState({currentPage:this.state.page}),this.fetchElements())}},{key:"showNextPage",value:function(){this.setState({page:this.state.page+1})}},{key:"showPreviousPage",value:function(){this.setState({page:this.state.page-1})}},{key:"paginationChange",value:function(e,t){this.setState({page:t})}},{key:"fetchElements",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({loading:!0}),d.a.get("https://anapioficeandfire.com/api/houses",{params:{pageSize:25,page:this.state.page}}).then((function(a){var n=a.headers.link.split(",").map((function(e){return e.split(";").map((function(e){return e.trim()}))}));t&&n.forEach((function(t){if(t.includes('rel="last"')){var a=t[0].match("page=(\\d+)");a&&e.setState({pageCount:Number(a[1])})}})),e.setState({entries:a.data.map((function(e){return{name:e.name,url:e.url.match("\\d+")}})),loading:!1})}))}},{key:"componentDidMount",value:function(){this.fetchElements(!0)}},{key:"render",value:function(){return Boolean(this.state.entries)?r.a.createElement(I.a,{className:"centered padding_top"},r.a.createElement("div",{className:"centered sticky"},r.a.createElement(D.a,{count:this.state.pageCount,siblingCount:2,boundaryCount:1,onChange:this.paginationChange.bind(this),size:"medium",variant:"outlined",className:"pagination_centered"})),this.state.loading?r.a.createElement("div",null,r.a.createElement(v.a,null)):this.state.entries.map((function(e){return r.a.createElement(S,{key:parseInt(e.url),id:parseInt(e.url),name:e.name})}))):r.a.createElement("div",null,"sorry empty")}}]),a}(r.a.Component);var P=function(){return r.a.createElement(h.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/houseDetails/:houseId/:backgroundColor"},r.a.createElement(_,{houseId:"{houseId}",backgroundColor:"{backgroundColor}"})),r.a.createElement(m.a,{path:"/"},r.a.createElement(x,null),r.a.createElement(h.b,{to:"/houseDetails/200"},"HouseDetails"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.7f94d5a3.chunk.js.map